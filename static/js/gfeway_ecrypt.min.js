!function(f){f(document).on("gform_post_render",function(e,t){f("#gform_"+t+"[data-gfeway-encrypt-key]").on("submit",n)});let o="function"==typeof String.prototype.repeat?(e,t)=>e.repeat(t):(t,n)=>{let r=t;for(let e=1;e<n;e++)r+=t;return r};function n(t){let i=f(this);var n=function(e){e=e.split("_");return 1<e.length?e[1]:""}(this.id);if(!i.find(".gfeway-recurring-active").length){let a=i.data("gfeway-encrypt-key");try{e("input[data-gfeway-encrypt-name='EWAY_CARDNUMBER']"),e("input[data-gfeway-encrypt-name='EWAY_CARDCVN']")}catch(e){t.preventDefault(),window["gf_submitting_"+n]=!1,f("#gform_ajax_spinner_"+n).remove(),e.field.focus(),window.alert(e.message)}function e(e){e=i.find(e);if(e.length){var t=e.val().trim(),n=t.length,r=e.data("gfeway-encrypt-name");if("EWAY_CARDNUMBER"===r&&!function(n){let r=0,a=1;for(let t=n.length-1;0<=t;t--){let e=n.charAt(t)*a;a=1===a?2:1,10<=e&&(r++,e-=10),r+=e}return r%10==0}(t))throw{name:"Credit Card Error",message:gfeway_ecrypt_strings.card_number_invalid,field:e};n&&(t=eCrypt.encryptValue(e.val(),a),f("<input type='hidden'>").attr("name",r).val(t).appendTo(i),e.val("").prop("placeholder",o(gfeway_ecrypt_strings.ecrypt_mask,n)))}}}return!0}}(jQuery);