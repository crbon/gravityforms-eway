(f=>{f(document).on("gform_post_render",function(e,t){f("#gform_"+t+"[data-gfeway-encrypt-key]").on("submit",r)});let p="function"==typeof String.prototype.repeat?(e,t)=>e.repeat(t):(t,r)=>{let n=t;for(let e=1;e<r;e++)n+=t;return n};function r(t){let i=f(this);var r=(e=>1<(e=e.split("_")).length?e[1]:"")(this.id);if(!i.find(".gfeway-recurring-active").length){let a=i.data("gfeway-encrypt-key");try{e("input[data-gfeway-encrypt-name='EWAY_CARDNUMBER']"),e("input[data-gfeway-encrypt-name='EWAY_CARDCVN']")}catch(e){t.preventDefault(),window["gf_submitting_"+r]=!1,f("#gform_ajax_spinner_"+r).remove(),e.field.focus(),window.alert(e.message)}function e(e){e=i.find(e);if(e.length){var t=e.val().trim(),r=t.length,n=e.data("gfeway-encrypt-name");if("EWAY_CARDNUMBER"===n&&!(r=>{let n=0,a=1;for(let t=r.length-1;0<=t;t--){let e=r.charAt(t)*a;a=1===a?2:1,10<=e&&(n++,e-=10),n+=e}return n%10==0})(t))throw{name:"Credit Card Error",message:gfeway_ecrypt_strings.card_number_invalid,field:e};r&&(t=eCrypt.encryptValue(e.val(),a),f("<input type='hidden'>").attr("name",n).val(t).appendTo(i),e.val("").prop("placeholder",p(gfeway_ecrypt_strings.ecrypt_mask,r)))}}}return!0}})(jQuery);