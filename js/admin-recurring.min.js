// Gravity Forms eWAY
// https://shop.webaware.com.au/downloads/gravity-forms-eway/

"use strict";!function(e){function t(t,i){var _=e(t);i?_.slideDown():_.slideUp()}fieldSettings.gfewayrecurring=".conditional_logic_field_setting, .error_message_setting, .label_setting, .admin_label_setting, .rules_setting, .description_setting, .css_class_setting, .gfewayrecurring_setting",e(document).on("gform_load_field_settings",function(i,_){e("#gfeway_initial_setting").prop("checked",_.gfeway_initial_setting),t("#gfeway_initial_fields",_.gfeway_initial_setting);var a=_.gfeway_recurring_date_start||_.gfeway_recurring_date_setting;e("#gfeway_recurring_date_start").prop("checked",a),t("#gfeway_recurring_start_date_fields",a);var r=_.gfeway_recurring_date_end||_.gfeway_recurring_date_setting;e("#gfeway_recurring_date_end").prop("checked",r),t("#gfeway_recurring_end_date_fields",r),e("#gfeway_initial_amount_label").val(_.gfeway_initial_amount_label),e("#gfeway_recurring_amount_label").val(_.gfeway_recurring_amount_label),e("#gfeway_initial_date_label").val(_.gfeway_initial_date_label),e("#gfeway_start_date_label").val(_.gfeway_start_date_label),e("#gfeway_end_date_label").val(_.gfeway_end_date_label),e("#gfeway_interval_type_label").val(_.gfeway_interval_type_label)}),e("#gfeway_initial_setting").on("change",function(){SetFieldProperty(this.id,this.checked),t("#gfeway_initial_fields",this.checked)}),e("#gfeway_recurring_date_start").on("change",function(){SetFieldProperty(this.id,this.checked);var e=GetSelectedField();"gfeway_recurring_date_setting"in e&&(e.gfeway_recurring_date_end=!!e.gfeway_recurring_date_setting,delete e.gfeway_recurring_date_setting),t("#gfeway_recurring_start_date_fields",this.checked)}),e("#gfeway_recurring_date_end").on("change",function(){SetFieldProperty(this.id,this.checked);var e=GetSelectedField();"gfeway_recurring_date_setting"in e&&(e.gfeway_recurring_date_start=!!e.gfeway_recurring_date_setting,delete e.gfeway_recurring_date_setting),t("#gfeway_recurring_end_date_fields",this.checked)}),e("li.gfewayrecurring_setting").on("keyup","input.gfeway-field-label",function(){var t=this.value;/\S/.test(t)||(t=e(this).data("gfeway-field-label")),e("."+this.id).text(t),SetFieldProperty(this.id,t)}),gform.addFilter("gform_form_editor_can_field_be_added",function(e,t){return"gfewayrecurring"===t&&GetFieldsByType([t]).length>0?(window.alert(gfeway_editor_admin_strings_recurring.only_one),!1):e})}(jQuery);