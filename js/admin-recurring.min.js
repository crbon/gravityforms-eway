// Gravity Forms eWAY
// https://shop.webaware.com.au/downloads/gravity-forms-eway/

!function(e){fieldSettings.gfewayrecurring=".conditional_logic_field_setting, .error_message_setting, .label_setting, .admin_label_setting, .rules_setting, .description_setting, .css_class_setting, .gfewayrecurring_setting",e(document).on("gform_load_field_settings",function(t,i){e("#gfeway_initial_setting").prop("checked",!!i.gfeway_initial_setting),i.gfeway_initial_setting||e("#gfeway_initial_fields").hide(),i.gfeway_recurring_date_start||i.gfeway_recurring_date_setting?e("#gfeway_recurring_date_start").prop("checked",!0):(e("#gfeway_recurring_date_start").prop("checked",!1),e("#gfeway_recurring_start_date_fields").hide()),i.gfeway_recurring_date_end||i.gfeway_recurring_date_setting?e("#gfeway_recurring_date_end").prop("checked",!0):(e("#gfeway_recurring_date_end").prop("checked",!1),e("#gfeway_recurring_end_date_fields").hide()),e("#gfeway_initial_amount_label").val(i.gfeway_initial_amount_label),e("#gfeway_recurring_amount_label").val(i.gfeway_recurring_amount_label),e("#gfeway_initial_date_label").val(i.gfeway_initial_date_label),e("#gfeway_start_date_label").val(i.gfeway_start_date_label),e("#gfeway_end_date_label").val(i.gfeway_end_date_label),e("#gfeway_interval_type_label").val(i.gfeway_interval_type_label)}),e("#gfeway_initial_setting").on("change",function(){SetFieldProperty(this.id,this.checked?"1":""),this.checked?e("#gfeway_initial_fields").slideDown():e("#gfeway_initial_fields").slideUp()}),e("#gfeway_recurring_date_start").on("change",function(){SetFieldProperty(this.id,this.checked?"1":"");var t=GetSelectedField();"gfeway_recurring_date_setting"in t&&(t.gfeway_recurring_date_end=t.gfeway_recurring_date_setting?"1":"",delete t.gfeway_recurring_date_setting),this.checked?e("#gfeway_recurring_start_date_fields").slideDown():e("#gfeway_recurring_start_date_fields").slideUp()}),e("#gfeway_recurring_date_end").on("change",function(){SetFieldProperty(this.id,this.checked?"1":"");var t=GetSelectedField();"gfeway_recurring_date_setting"in t&&(t.gfeway_recurring_date_start=t.gfeway_recurring_date_setting?"1":"",delete t.gfeway_recurring_date_setting),this.checked?e("#gfeway_recurring_end_date_fields").slideDown():e("#gfeway_recurring_end_date_fields").slideUp()}),e("li.gfewayrecurring_setting").on("keyup","input.gfeway-field-label",function(){var t=this.value;/\S/.test(t)||(t=e(this).data("gfeway-field-label")),e("."+this.id).text(t),SetFieldProperty(this.id,t)}),gform.addFilter("gform_form_editor_can_field_be_added",function(e,t){return"gfewayrecurring"===t&&GetFieldsByType([t]).length>0?(window.alert(gfeway_editor_admin_strings_recurring.only_one),!1):e})}(jQuery);